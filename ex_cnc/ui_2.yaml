# A declarative UI for a simple CNC machine controller
- type: obj
  width: 780
  height: 460
  align: center
  flex_flow: column
  children:
    # --- Title ---
    - type: label
      text: "Mini CNC Controller"
      style_text_font: "montserrat_24"

    # --- Status & Position Panel ---
    - type: obj
      width: "100%"
      margin_top: 15
      flex_flow: row
      style_pad_all: 10
      style_bg_color: "#222222"
      style_radius: 5
      children:
        - type: label
          text: "STATUS: IDLE"
          observes:
            program::status: { string: "STATUS: %s" }
        - type: label
          margin_left: 20
          text: "X: +000.00"
          observes:
            position::x: { float: "X: %+07.2f" }
        - type: label
          margin_left: 20
          text: "Y: +000.00"
          observes:
            position::y: { float: "Y: %+07.2f" }
        - type: label
          margin_left: 20
          text: "Z: +000.00"
          observes:
            position::z: { float: "Z: %+07.2f" }

    # --- Control Panel ---
    - type: obj
      width: "100%"
      margin_top: 15
      flex_flow: "row_wrap"
      flex_align: "space_evenly, center, center"
      style_pad_all: 10
      style_bg_color: "#222222"
      style_radius: 5
      children:
        # Spindle Switch (Two-way binding)
        - type: switch
          style_bg_color: "#1e5a87"
          observes:
            spindle::is_on: { bool: null }
          action:
            spindle::toggle: "toggle"
        - type: label
          text: "Spindle"
          margin_right: 40

        # Feed Override Button (Cycle action)
        - type: button
          action:
            feedrate::override: [50, 90, 100, 110, 125]
          children:
            - type: label
              text: "Feed: 100%"
              observes:
                feedrate::override: { int: "Feed: %d%%" }

        # Control Buttons (Trigger actions)
        - type: button
          margin_left: 40
          action:
            program::run: "trigger"
          children:
            - type: label
              text: "RUN"
        - type: button
          action:
            program::pause: "trigger"
          children:
            - type: label
              text: "PAUSE"
        - type: button
          action:
            program::stop: "trigger"
          children:
            - type: label
              text: "STOP"
